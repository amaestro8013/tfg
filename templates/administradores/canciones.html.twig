{% extends 'base.html.twig' %}

{% block title %}Lista de Canciones{% endblock %}


{% block body %}

<style>

.recuadro-full{
    width: 100%;
    height: 75px;
    padding: 20px 0px 10px 0px;
    background-color: white;
    text-align: center;
    color: black;
    border: solid 1px #ccc;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    align-items: center;
    align-content: center;
}
.recuadro-full:hover {
    border: solid 1px #777;
    color: black;
}

</style>

{% if app.session.get('quien') == 'administrador' %}

    <div class="container">
        <div class="row">
            <a href="/add-cancion"  class="recuadro-full">
                <p><b>Añadir Nueva Cancion</b></p>  
            </a>
        </div>
    </div>

    <div class="container">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Titulo</th>
                    <th scope="col">Autores</th>
                    <th scope="col">Editar</th>
                    <th scope="col">Eliminar</th>
                </tr>
            </thead>
            <tbody>
                {% for c in canciones %}
                    <tr>
                        <th scope="row">{{c[0].cancionesIdcanciones.titulo}}</th>
                        <th scope="row">
                            {% for a in c %}
                                {{a.autoresIdautores.nombre}}
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            {% endfor %}
                        </th>
                        <td>
                            <a class="btn btn-light" href="editar-cancion/{{c[0].cancionesIdcanciones.idCanciones}}">Editar</a>
                        </td>
                        <td>
                            <a class="btn btn-light" href="eliminar-cancion/{{c[0].cancionesIdcanciones.idCanciones}}">Eliminar</a>
                        </td>
                    </tr>
                {% endfor %}    
            </tbody>
        </table>
    </div>

{% else  %}
    <p>No eres administrador, por favor inicia sesión como administrador</p>
{% endif  %}

{% endblock %}
